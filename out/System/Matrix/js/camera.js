const video=document.createElement("video"),cameraCanvas=document.createElement("canvas");cameraCanvas.width=1,cameraCanvas.height=1;const context=cameraCanvas.getContext("2d");let cameraAspectRatio=1;const cameraSize=[1,1],drawToCanvas=()=>{requestAnimationFrame(drawToCanvas),context.drawImage(video,0,0)},setupCamera=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({video:{width:{min:800,ideal:1280},frameRate:{ideal:60}},audio:!1}),e=a.getVideoTracks()[0],{width:t,height:i}=e.getSettings();video.width=t,video.height=i,cameraCanvas.width=t,cameraCanvas.height=i,cameraAspectRatio=t/i,cameraSize[0]=t,cameraSize[1]=i,video.srcObject=a,video.play(),drawToCanvas()}catch(a){console.warn(`Camera not initialized: ${a}`)}};export{cameraCanvas,cameraAspectRatio,cameraSize,setupCamera};