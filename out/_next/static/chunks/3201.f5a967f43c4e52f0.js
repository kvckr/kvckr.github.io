"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3201],{3201:function(e,t,n){n.r(t),n.d(t,{getIpfsFileName:function(){return s},getIpfsGatewayUrl:function(){return c},getIpfsResource:function(){return f}});var r=n(8680),a=n(8764).Buffer;let i="";const o=e=>new Promise((t=>{const n=window.setTimeout((()=>t(!1)),r.i2),a=new Image;a.addEventListener("load",(()=>{window.clearTimeout(n),t(!0)}),r.K7),a.addEventListener("error",(()=>{window.clearTimeout(n),t(!1)}),r.K7),a.src=`${e.replace("<CID>","bafybeibwzifw52ttrkqlikfzext5akxu7lz4xiwjgwzmqcpdzmp3n5vnbe")}?now=${Date.now()}&filename=1x1.png#x-ipfs-companion-no-redirect`})),c=async(e,t)=>{if(!i||t){const e=t?r.i6.filter((e=>e!==i)):r.i6;for(const t of e)if(await o(t)){i=t;break}if(!i)return""}const{pathname:a,protocol:c,search:s}=new URL(e);if("ipfs:"!==c)return"";const[f="",...l]=a.split("/").filter(Boolean),{CID:w}=await n.e(8060).then(n.bind(n,8060));return`${i.replace("<CID>",w.parse(f).toV1().toString())}${l.join("/")}${s}`},s=async(e,t)=>{const{pathname:r,searchParams:a}=new URL(e),i=a.get("filename");if(i)return i;const{fileTypeFromBuffer:o}=await Promise.all([n.e(8090),n.e(3545),n.e(3301)]).then(n.bind(n,3545)),{ext:c=""}=await o(t)||{};return`${r.split("/").filter(Boolean).join("_")}${c?`.${c}`:""}`},f=async e=>{let t;const n={...r.P8,cache:"no-cache",credentials:"omit",keepalive:!1,mode:"cors",referrerPolicy:"no-referrer",window:null};try{t=await fetch(await c(e),n)}catch(r){"Failed to fetch"===r.message&&(t=await fetch(await c(e,!0),n))}return t instanceof Response?a.from(await t.arrayBuffer()):a.from("")}}}]);