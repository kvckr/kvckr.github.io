"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{54:function(e,n,t){t.r(n),t.d(n,{addEntryToZippable:function(){return s},addFileToZip:function(){return l},createZippable:function(){return a},isFileInZip:function(){return p},unarchive:function(){return f},unzip:function(){return o},zipAsync:function(){return d}});var i=t(1864),r=t(8680),u=t(9595),c=t(8764).Buffer;const a=(e,n)=>e.split("/").reduceRight(((e,n)=>({[n]:e})),[n,r.BF]),s=(e,n)=>{const[[t,i]]=Object.entries(n);return e[t]=t in e?s(e[t],n[t]):i,e},o=e=>new Promise(((n,i)=>{t.e(3778).then(t.bind(t,3778)).then((t=>{let{unzip:r}=t;return r(e,((e,t)=>e?i(e):n(t)))}))})),d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.BF;return new Promise(((i,r)=>{t.e(3778).then(t.bind(t,3778)).then((t=>{let{zip:u}=t;return u(e,n,((e,n)=>e?r(e):i(n)))}))}))},l=async(e,n,t,i)=>c.from(await d(s(e.length>0&&await o(e)||{},a(t,await i(n))))),p=(e,n)=>new Promise(((i,r)=>{t.e(3778).then(t.bind(t,3778)).then((t=>{let{unzip:u}=t;return u(e,((e,t)=>e?r(e):i(Object.keys(t).includes(n))))}))})),f=async(e,n)=>{if(window.SevenZip||await(0,u.mb)(["System/7zip/7zz.es6.js"]),!window.SevenZip)return{};const t=await window.SevenZip(),r=(0,i.basename)(e),a=(0,i.join)("/",(0,i.basename)(e,(0,i.extname)(e)));t.FS.mkdir(a),t.FS.chdir(a);const s=t.FS.open(r,"w+");t.FS.write(s,n,0,n.length),t.FS.close(s),t.callMain(["-y","x",r]);const o=t.FS.readdir(a),d=e=>(n,u)=>{if([".","..",r].includes(u))return n;const s=(0,i.join)(e,u),o=s.replace(a,"");try{t.FS.chmod(s,511)}catch{}return Object.assign(n,t.FS.isDir(t.FS.stat(s).mode)?{[(0,i.join)(o,"/")]:c.from(""),...t.FS.readdir(s).reduce(d(s),{})}:{[o]:t.FS.readFile(s,{flags:"r"})}),n};return o.reduce(d(a),{})}}}]);