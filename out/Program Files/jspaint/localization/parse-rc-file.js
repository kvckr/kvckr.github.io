module.exports=function(t,e,c){let i,o,r,a,l,n=[],h=0;for(let e of t.split(/\r?\n/g)){let t,c=e.trim().replace(/[\t ]+/g," ").replace(/\/\/.*$/g,"");c.match(/ MENU$/)&&(i=!0);const p=c.match(/^(\w+) (DIALOG|DIALOGEX) /);if(p&&(l=p[1],o=!0),"STRINGTABLE"===c&&(r=!0),"BEGIN"===c&&h++,"END"===c&&(h--,0==h&&(i=void 0,o=void 0,l=void 0,r=void 0)),o&&!h){const c=e.match(/^[\t ]*(CAPTION)[\t ]+(L?"(.*?("")*)*?")/);c&&(a=`${l}:${c[1]}`,hint=`${l} ${c[1]}`,t=c[2])}else if((i||o)&&h){const c=e.match(/^[\t ]*(\w+)[\t ]+(L?"([^"]*?("")*)*?")(,[\t ]*(\w+)){0,1}/);c&&(a=c[6],hint=c[6]?`${c[1]} ${c[6]}`:c[1],t=c[2])}{let c=e.match(/(L?"(.*)")/);c?t=c[0]:(c=e.match(/^[\t ]*(\w+)[\t ]*(\/\/.*)*$/),c?a=c[1]:(c=e.match(/^[\t ]*(L?"(.*)")/),a&&c?(hint=a,t=c[1]):a=void 0))}if(t){let e=t,c=e.match(/^L/);e=e.replace(/^L?"(.*)"$/g,"$1"),e=e.replace(/\\r/g,"\r"),e=e.replace(/\\n/g,"\n"),e=e.replace(/\\t/g,"\t"),e=e.replace(/\\"/g,'"'),c&&(e=e.replace(/\\x([0-9a-fA-F]{4})/g,((t,e)=>String.fromCodePoint(parseInt(e,16))))),n.push(e),a=void 0,hint=void 0,t=void 0}}return n};