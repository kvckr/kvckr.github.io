(n=>{function t(n){const t=new $Window(n),o=()=>{if(!t.is(".edit-colors-window, .storage-manager, .attributes-window, .flip-and-rotate, .stretch-and-skew"))return;const n=t.$content[0],o=t.$titlebar[0];let e=1;t.$content.css({transform:`scale(${e})`,transformOrigin:"0 0",marginRight:"",marginBottom:""}),document.body.classList.contains("eye-gaze-mode")&&(e=Math.min(innerWidth/n.offsetWidth,(innerHeight-o.offsetHeight)/n.offsetHeight),t.$content.css({transform:`scale(${e})`,transformOrigin:"0 0",marginRight:n.scrollWidth*(e-1)}),t.$content.css({marginBottom:n.scrollHeight*(e-1)}),t.center())};if(!n.$component){t.center();const n=()=>{requestAnimationFrame(o)},e=()=>{t.off("close",e),$G.off("eye-gaze-mode-toggled resize",n)};t.on("close",e),$G.on("eye-gaze-mode-toggled resize",n),n()}return n.$component&&t.$content.css({contain:"none"}),t}n.$ToolWindow=function(n){return t({$component:n,toolWindow:!0})},n.$DialogWindow=function(n){const o=t({title:n,resizable:!1,maximizeButton:!1,minimizeButton:!1});return o.addClass("dialog-window"),o.$form=$(E("form")).appendTo(o.$content),o.$main=$(E("div")).appendTo(o.$form),o.$buttons=$(E("div")).appendTo(o.$form).addClass("button-group"),o.$Button=(n,t)=>{const e=$(E("button")).appendTo(o.$buttons).text(n);return e.on("click",(n=>{n.preventDefault(),t()})),e.on("pointerdown",(()=>{e.focus()})),e},o},n.make_window_supporting_scale=t})(window);