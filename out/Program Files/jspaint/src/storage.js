(e=>{let t={get(e,t){let r,a,o,l,n,s;try{if("string"==typeof e)a=localStorage.getItem(e),a&&(l=JSON.parse(a));else if(l={},Array.isArray(e))for(n=e,r=0,o=n.length;r<o;r++)e=n[r],a=localStorage.getItem(e),a&&(l[e]=JSON.parse(a));else for(e in s=e,s){let t=s[e];a=localStorage.getItem(e),l[e]=a?JSON.parse(a):t}}catch(e){return void t(e)}t(null,l)},set(e,t,r){let a={};if("string"==typeof e)a={[e]:t};else{if(Array.isArray(e))throw new TypeError("Cannot set an array of keys (to what?)");a=e,r=t}for(e in a){t=a[e];try{localStorage.setItem(e,JSON.stringify(t))}catch(e){return e.quotaExceeded=22===e.code||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||-2147024882===e.number,void r(e)}}return r(null)}};window.storage=t})();