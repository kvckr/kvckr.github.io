(()=>{let e,t,n,a,o,r,s=!1;n=parent&&frameElement&&parent.$?parent.$(frameElement).closest(".window"):$();const i=()=>{s=!1,cancelAnimationFrame(e),$(t).remove(),n.css({transform:""}),removeEventListener("keydown",a),o&&(o.destroy(),o=null),$(r).remove()},d=()=>{s=!0,t=document.createElement("img"),t.classList.add("rotologo"),frameElement?(frameElement.parentElement.appendChild(t),t.src="images/logo/98.js.org.svg"):(document.body.appendChild(t),t.src="images/98.js.org.svg"),$(t).css({position:"absolute",left:"50%",top:"50%",pointerEvents:"none",transformOrigin:"0% 0%",transition:"opacity 1s ease",opacity:"0"});const d=()=>{e=requestAnimationFrame(d);const a=Math.sin(Date.now()/5e3),o=Math.sin(Date.now()/4e3);if($(t).css({transform:`perspective(4000px) rotateY(${a}turn) translate(-50%, -50%) translateZ(500px)`,filter:`hue-rotate(${o}turn)`}),n.length){let e=n[0],t=0,a=0;do{t+=e.offsetLeft,a+=e.offsetTop,e=e.offsetParent}while(e);const o=-(t+(n.outerWidth()-parent.innerWidth)/2)/parent.innerWidth/3,r=(a+(n.outerHeight()-parent.innerHeight)/2)/parent.innerHeight/3;n.css({transform:`perspective(4000px) rotateY(${o}turn) rotateX(${r}turn)`,transformOrigin:"50% 50%",transformStyle:"preserve-3d"})}};function p(){o.playVideo(),o.unMute()}function c(e){e.data==YT.PlayerState.PLAYING&&setTimeout((()=>{$(t).css({opacity:1})}),14150),e.data==YT.PlayerState.ENDED&&(o.destroy(),o=null,$(t).css({opacity:0}),setTimeout(i,1200))}d(),r=document.createElement("div"),document.querySelector(".canvas-area").appendChild(r),$(r).css({position:"absolute",top:"3px",left:"3px",mixBlendMode:"multiply",pointerEvents:"none",transition:"opacity 0.4s ease",width:"100vw",height:"100vh"}),(e=>{if("undefined"!=typeof YT)e();else{const t=document.createElement("script");t.src="https://www.youtube.com/player_api";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=()=>{e()}}})((()=>{o=new YT.Player(r,{height:"390",width:"640",videoId:"8TvcyPCgKSU",playerVars:{autoplay:1,controls:0},events:{onReady:p,onStateChange:c}})}));let l=!0;a=e=>{32===e.which&&(l?(o.pauseVideo(),l=!1,$(o.getIframe()).add(t).css({opacity:"0"})):(o.playVideo(),l=!0,$(o.getIframe()).add(t).css({opacity:""})),e.preventDefault())},addEventListener("keydown",a)};addEventListener("keydown",Konami.code((()=>{s?i():d()}))),addEventListener("keydown",(e=>{"Escape"===e.key&&i()}))})();