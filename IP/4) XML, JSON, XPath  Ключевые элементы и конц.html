<html>
<head>
  <title>4) XML, JSON, XPath / Ключевые элементы и концепции WPF</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/274061; Windows/6.3.9600;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="923"/>
<h1>4) XML, JSON, XPath / Ключевые элементы и концепции WPF</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b>XML, JSON, XPath</b><br/></div><div>Расширяемый язык разметки (eXtensible Markup Language, XML) – это способ описания структурированных данных. Структурированными данными называются такие данные, которые обладают заданным набором семантических атрибутов и допускают иерархическое описание. XML-данные содержатся в документе, в роли которого может выступать файл, поток или другое хранилище информации, способное поддерживать текстовый формат. Любой XML-документ строится по определённым правилам.</div><div>1. Единица информации – XML-элемент. XML-документ состоит из XML-элементов. Каждый элемент определяется при помощи имени, открывающего тега и закрывающего тега. Открывающий тег элемента записывается в форме &lt;имя-элемента&gt;, закрывающий тег – в форме &lt;/имя-элемента&gt;. Между открывающим и закрывающим тегами размещается содержимое элемента.</div><div>2. Иерархия элементов. Содержимым XML-элемента может быть текст, пробельные символы (пробелы, табуляции, переводы строки), а также другие XML-элементы. Допускается комбинация указанного содержимого. Элементы должны быть правильно вложены друг в друга</div><div>3. Корневой элемент. В XML-документе всегда должен быть единственный элемент, называемый корневым, никакая часть которого не входит в содержимое любого другого элемента.</div><div>4. Синтаксис имён элемента. Имена элементов регистр зависимы. Имена могут содержать буквы, цифры, дефисы, символы подчёркивания, точки, однако должны начинаться только с буквы или символа подчёркивания. Имена, начинающиеся с xml, зарезервированы для нужд XML.</div><div>5. Атрибуты элемента. Любой XML-элемент может содержать один или несколько атрибутов, записываемых в открывающем теге. Имена атрибутов отделяются от их значений символом =. Значение атрибута заключается в апострофы или в двойные кавычки. Если апостроф или двойные кавычки присутствуют в значении атрибута, то для обрамления используются те из них, которые не встречаются в значении.</div><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</div><div>&lt;planets&gt;</div><div>&lt;planet&gt;</div><div>&lt;name&gt;Earth&lt;/name&gt;</div><div>&lt;moon&gt;</div><div>&lt;name&gt;Moon&lt;/name&gt;</div><div>&lt;period units=&quot;days&quot;&gt;27.321582&lt;/period&gt;</div><div>&lt;/moon&gt;</div><div>&lt;/planet&gt;</div><div>&lt;planet&gt;</div><div>&lt;name&gt;Mars&lt;/name&gt;</div><div>&lt;/planet&gt; &lt;/planets&gt;</div><div><br/></div><div>Отметим, что при описании дерева XML-элементов используются следующие термины:</div><div>1. Текущий элемент (self);</div><div>2. Предок (ancestor) – любой элемент, содержащий текущий;</div><div>3. Корень (root) – предок всех элементов;</div><div>4. Родитель (parent) – непосредственный предок текущего элемента;</div><div>5. Потомок (descendant) – любой элемент, вложенный в текущий;</div><div>6. Ребёнок (child) – непосредственный потомок текущего элемента;</div><div>7. Сиблинги (siblings) – элементы, имеющие общего родителя.</div><div><br/></div><div>JSON (JavaScript Object Notation) – простой текстовый формат обмена данными, удобный для чтения и записи как человеком, так и компьютером. Оноснован на подмножестве языка программирования JavaScript. JSON строится на двух структурах:</div><div>1. Объект – неупорядоченный набор пар ключ/значение. Объект начинается с открывающей фигурной скобки и заканчивается закрывающей фигурной скобкой. Каждое имя ключа сопровождается двоеточием, пары ключ/значение разделяются запятой.</div><div>2. Массив – упорядоченная коллекция значений. Массив начинается с открывающей квадратной скобки и заканчивается закрывающей квадратной скобкой. Значения разделены запятой. Значение может быть строкой, числом, true, false, null, объектом или массивом. Эти структуры могут быть вложенными.</div><div>{</div><div>&quot;id&quot;: 12,</div><div>&quot;name&quot;: &quot;Petrov&quot;,</div><div>&quot;marks&quot;: [10, 8, 7, 9]</div><div>}</div><div>XPath (XML Path Language) — язык запросов к элементам XML-документа. Разработан для организации доступа к частям документа XML в файлах. XPath призван реализовать навигацию по DOM в XML. В XPath используется компактный синтаксис, отличный от принятого в XML. XML имеет древовидную структуру. В документе всегда имеется корневой элемент (инструкция &lt;?xml version=&quot;1.0&quot;?&gt; к дереву отношения не имеет). У элемента дерева всегда существуют потомки и предки, кроме корневого элемента, у которого предков нет, а также тупиковых элементов (листьев дерева), у которых нет потомков. Каждый элемент дерева находится на определенном уровне вложенности (далее — «уровень»). У элементов на одном уровне бывают предыдущие и следующие элементы.</div><div>Это очень похоже на организацию каталогов в файловой системе, и строки</div><div>XPath, фактически, — пути к «файлам» — элементам.</div><div>Пример</div><div>XPath-путь /html/body/*/span[@class] (полный синтаксис имеет</div><div>вид /child::html/child::body/child::*/child::span[attribute::class])</div><hr/><b>Ключевые элементы и концепции WPF</b><div>Windows Presentation Foundation (WPF) – это технология для построения клиентских приложений Windows, являющаяся частью платформы .NET. WPF разработана как альтернатива технологии Windows Forms. Ниже перечислены основные особенности технологии WPF.<br/>
1. Собственные методы построения и рендеринга элементов. В Windows Forms классы для элементов управления делегируют функции отображения системным библиотекам, таким как user32.dll. В WPF любой элемент<br/>
управления полностью строится (рисуется) самой WPF. Для аппаратного ускорения рендеринга применяется технология DirectX.<br/>
2. Независимость от разрешения устройства вывода. Для указания размеров в WPF используется собственная единица измерения, равная 1/96 дюйма. Кроме этого, технология WPF ориентирована на использование не пиксельных, а векторных примитивов.<br/>
3. Декларативный пользовательский интерфейс. В WPF визуальное содержимое окна можно полностью описать на языке XAML. Это язык разметки, основанный на XML. Применение XAML является предпочтительным, но не обязательным – приложения WPF можно создавать, используя только код.<br/>
4. Веб-подобная модель компоновки. WPF поддерживает гибкий визуальный поток, размещающий элементы управления на основе их содержимого.<br/>
5. Стили и шаблоны. Стили стандартизируют форматирование и позволяют повторно использовать его по всему приложению. Шаблоны дают возможность изменить способ отображения любых элементов управления, даже таких основополагающих, как кнопки или поля ввода.<br/>
6. Анимация. В WPF анимация – неотъемлемая часть программного каркаса. Анимация определяется декларативными дескрипторами, и WPF запускает её в действие автоматически.<br/>
7. Приложения на основе страниц. В WPF можно строить приложения с кнопками навигации, которые позволяют перемещаться по коллекции страниц.<br/>
Visual Studio выполняет компиляцию проекта, созданного по шаблону WPF, в два этапа. Вначале для каждого файла XAML генерируется два файла, сохраняемых в подкаталогах obj\Debug или obj\Release (в зависимости от<br/>
цели компиляции):<br/>
1. файл с расширением *.baml (BAML-файл) – двоичное представление XAML-файла, внедряемое в сборку в виде ресурса;<br/>
2. файл с расширением *.g.cs – разделяемый класс, который соответствует XAML-описанию. Этот класс содержит поля для всех именованных элементов XAML и реализацию метода InitializeComponent(), загружающего BAML-данные из ресурсов сборки. Кроме этого, класс содержит метод, подключающий все обработчики событий. На втором этапе сгенерированные файлы компилируются вместе с исходными файлами C# в единую сборку.<b><br/></b><div><br/></div></div></div>
</div></body></html> 