# 10. Структура процесса (задачи). Адресное пространство процесса.

Процесс состоит из:

* исполняемой программы (код и данные);
* закрытого ''адресного пространства' (address space'''), т.е. набора адресов * виртуальной памяти, который процесс может использовать;
* системных ресурсов, выделяемых ОС процессу во время выполнения программы (семафоров, файлов и т.д.);
* по крайней мере, одного потока управления' (thread of execution'''). Поток – это сущность внутри процесса, которую ядро NT направляет на исполнение. Без него программа процесса не может выполняться.

Каждый процесс в многозадачной ОС выполняется в собственной “песочнице”. Эта песочница представляет собой виртуальное адресное пространство, которое в 32-битном защищенном режиме всегда имеет размер равный 4 гигабайтам. Соответствие между виртуальным пространством и физической памятью описывается с помощью таблицы страниц (page table). Ядро создает и заполняет таблицы, а процессор обращается к ним при необходимости осуществить трансляцию адреса. Каждый процесс работает со своим набором таблиц. Есть один важный момент — концепция виртуальной адресации распространяется на все выполняемое ПО, включая и само ядро. По этой причине для него резервируется часть виртуального адресного пространства (т.н. kernel space).